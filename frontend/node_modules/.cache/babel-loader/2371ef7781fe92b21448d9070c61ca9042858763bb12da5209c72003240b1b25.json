{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ptg40\\\\Pictures\\\\Lenovo\\\\mern-movie-app\\\\frontend\\\\src\\\\pages\\\\MovieDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../api/api';\nimport { useParams } from 'react-router-dom';\nimport { Box, Typography, Paper, CircularProgress } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MovieDetails() {\n  _s();\n  var _movie$rating;\n  const {\n    id\n  } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    async function fetchMovie() {\n      try {\n        setLoading(true);\n        setError('');\n        const res = await API.get('/movies', {\n          params: {\n            page: 1,\n            limit: 1000\n          }\n        });\n\n        /*\r\n          Backend may return:\r\n          1) { movies: [...] }\r\n          2) [ ... ]\r\n        */\n        const payload = res.data;\n        const list = Array.isArray(payload) ? payload : Array.isArray(payload.movies) ? payload.movies : [];\n        const found = list.find(m => m._id === id || m.id === id);\n        setMovie(found || null);\n      } catch (err) {\n        console.error('MovieDetails error:', err);\n        setError('Failed to load movie details');\n        setMovie(null);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMovie();\n  }, [id]);\n\n  // Loading state\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 6\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Error or not found\n  if (error || !movie) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      align: \"center\",\n      color: \"error\",\n      sx: {\n        mt: 6\n      },\n      children: \"Movie not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    sx: {\n      p: 2\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        gap: 2,\n        flexDirection: {\n          xs: 'column',\n          sm: 'row'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: movie.poster || 'https://via.placeholder.com/300x450',\n        alt: movie.title,\n        style: {\n          width: 260,\n          maxWidth: '100%',\n          objectFit: 'cover',\n          borderRadius: 6\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          fontWeight: 600,\n          children: movie.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          sx: {\n            mt: 1,\n            color: 'text.secondary'\n          },\n          children: [movie.releaseDate ? new Date(movie.releaseDate).getFullYear() : '—', movie.duration ? ` • ${movie.duration} min` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            mt: 2\n          },\n          children: movie.description || 'No description available.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            mt: 2,\n            fontWeight: 500\n          },\n          children: [\"Rating: \", (_movie$rating = movie.rating) !== null && _movie$rating !== void 0 ? _movie$rating : '—']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(MovieDetails, \"Y3TG7e5UHeshX2t3vo8bz0L5lCk=\", false, function () {\n  return [useParams];\n});\n_c = MovieDetails;\nvar _c;\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["React","useEffect","useState","API","useParams","Box","Typography","Paper","CircularProgress","jsxDEV","_jsxDEV","MovieDetails","_s","_movie$rating","id","movie","setMovie","loading","setLoading","error","setError","fetchMovie","res","get","params","page","limit","payload","data","list","Array","isArray","movies","found","find","m","_id","err","console","sx","display","justifyContent","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","align","color","p","gap","flexDirection","xs","sm","src","poster","alt","title","style","width","maxWidth","objectFit","borderRadius","variant","fontWeight","releaseDate","Date","getFullYear","duration","description","rating","_c","$RefreshReg$"],"sources":["C:/Users/ptg40/Pictures/Lenovo/mern-movie-app/frontend/src/pages/MovieDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport API from '../api/api';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Box, Typography, Paper, CircularProgress } from '@mui/material';\r\n\r\nexport default function MovieDetails() {\r\n  const { id } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function fetchMovie() {\r\n      try {\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        const res = await API.get('/movies', {\r\n          params: { page: 1, limit: 1000 }\r\n        });\r\n\r\n        /*\r\n          Backend may return:\r\n          1) { movies: [...] }\r\n          2) [ ... ]\r\n        */\r\n        const payload = res.data;\r\n        const list = Array.isArray(payload)\r\n          ? payload\r\n          : Array.isArray(payload.movies)\r\n            ? payload.movies\r\n            : [];\r\n\r\n        const found = list.find(\r\n          m => m._id === id || m.id === id\r\n        );\r\n\r\n        setMovie(found || null);\r\n      } catch (err) {\r\n        console.error('MovieDetails error:', err);\r\n        setError('Failed to load movie details');\r\n        setMovie(null);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    fetchMovie();\r\n  }, [id]);\r\n\r\n  // Loading state\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', mt: 6 }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  // Error or not found\r\n  if (error || !movie) {\r\n    return (\r\n      <Typography align=\"center\" color=\"error\" sx={{ mt: 6 }}>\r\n        Movie not found\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Paper sx={{ p: 2 }}>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          gap: 2,\r\n          flexDirection: { xs: 'column', sm: 'row' }\r\n        }}\r\n      >\r\n        <img\r\n          src={movie.poster || 'https://via.placeholder.com/300x450'}\r\n          alt={movie.title}\r\n          style={{\r\n            width: 260,\r\n            maxWidth: '100%',\r\n            objectFit: 'cover',\r\n            borderRadius: 6\r\n          }}\r\n        />\r\n\r\n        <Box>\r\n          <Typography variant=\"h4\" fontWeight={600}>\r\n            {movie.title}\r\n          </Typography>\r\n\r\n          <Typography variant=\"subtitle1\" sx={{ mt: 1, color: 'text.secondary' }}>\r\n            {movie.releaseDate ? new Date(movie.releaseDate).getFullYear() : '—'}\r\n            {movie.duration ? ` • ${movie.duration} min` : ''}\r\n          </Typography>\r\n\r\n          <Typography sx={{ mt: 2 }}>\r\n            {movie.description || 'No description available.'}\r\n          </Typography>\r\n\r\n          <Typography sx={{ mt: 2, fontWeight: 500 }}>\r\n            Rating: {movie.rating ?? '—'}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    </Paper>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}